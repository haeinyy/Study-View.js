{"remainingRequest":"/Users/haein/SSAFY/work_vue/d1117/vue-board-housedeal-login/node_modules/babel-loader/lib/index.js!/Users/haein/SSAFY/work_vue/d1117/vue-board-housedeal-login/node_modules/eslint-loader/index.js??ref--14-0!/Users/haein/SSAFY/work_vue/d1117/vue-board-housedeal-login/src/api/member.js","dependencies":[{"path":"/Users/haein/SSAFY/work_vue/d1117/vue-board-housedeal-login/src/api/member.js","mtime":1637207591403},{"path":"/Users/haein/SSAFY/work_vue/d1117/vue-board-housedeal-login/babel.config.js","mtime":1637023260000},{"path":"/Users/haein/SSAFY/work_vue/d1117/vue-board-housedeal-login/node_modules/cache-loader/dist/cjs.js","mtime":1637195353223},{"path":"/Users/haein/SSAFY/work_vue/d1117/vue-board-housedeal-login/node_modules/babel-loader/lib/index.js","mtime":1637195355108},{"path":"/Users/haein/SSAFY/work_vue/d1117/vue-board-housedeal-login/node_modules/eslint-loader/index.js","mtime":1637195353512}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9oYWVpbi9TU0FGWS93b3JrX3Z1ZS9kMTExNy92dWUtYm9hcmQtaG91c2VkZWFsLWxvZ2luL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCB7IGFwaUluc3RhbmNlIH0gZnJvbSAiLi9pbmRleC5qcyI7CnZhciBhcGkgPSBhcGlJbnN0YW5jZSgpOwoKZnVuY3Rpb24gbG9naW4oX3gsIF94MiwgX3gzKSB7CiAgcmV0dXJuIF9sb2dpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfbG9naW4oKSB7CiAgX2xvZ2luID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHVzZXIsIHN1Y2Nlc3MsIGZhaWwpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBhcGkucG9zdCgiL3VzZXIvbG9naW4iLCBKU09OLnN0cmluZ2lmeSh1c2VyKSkudGhlbihzdWNjZXNzKS5jYXRjaChmYWlsKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gZmluZEJ5SWQoX3g0LCBfeDUsIF94NikgewogIHJldHVybiBfZmluZEJ5SWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyBmdW5jdGlvbiBsb2dvdXQoc3VjY2VzcywgZmFpbCkKCgpmdW5jdGlvbiBfZmluZEJ5SWQoKSB7CiAgX2ZpbmRCeUlkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMih1c2VyaWQsIHN1Y2Nlc3MsIGZhaWwpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIC8vIO2XpOuNlOyXkCBzZXNzaW9uIFN0b3JhZ2Xsl5Ag7KCA7J6l65CcIO2GoO2BsOydhCDri7TslYTshJwg67O064K07JW87ZWoISAo6re4656Y7JW8IO2YhOyerCB1c2VyaWQg67O064K07IScIOuhnOq3uOyduCDtlZwg7IKs656M7J247KeAIO2ZleyduO2VtOyVvO2VqCkKICAgICAgICAgICAgYXBpLmRlZmF1bHRzLmhlYWRlcnNbImFjY2Vzcy10b2tlbiJdID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzLXRva2VuIik7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXQoIi91c2VyL2luZm8vIi5jb25jYXQodXNlcmlkKSkudGhlbihzdWNjZXNzKS5jYXRjaChmYWlsKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CiAgcmV0dXJuIF9maW5kQnlJZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgeyBsb2dpbiwgZmluZEJ5SWQgfTs="},{"version":3,"sources":["/Users/haein/SSAFY/work_vue/d1117/vue-board-housedeal-login/src/api/member.js"],"names":["apiInstance","api","login","user","success","fail","post","JSON","stringify","then","catch","findById","userid","defaults","headers","sessionStorage","getItem","get"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,YAA5B;AAEA,IAAMC,GAAG,GAAGD,WAAW,EAAvB;;SAEeE,K;;;;;mEAAf,iBAAqBC,IAArB,EAA2BC,OAA3B,EAAoCC,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACQJ,GAAG,CAACK,IAAJ,gBAAwBC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAxB,EAA8CM,IAA9C,CAAmDL,OAAnD,EAA4DM,KAA5D,CAAkEL,IAAlE,CADR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAIeM,Q;;EAMf;;;;sEANA,kBAAwBC,MAAxB,EAAgCR,OAAhC,EAAyCC,IAAzC;AAAA;AAAA;AAAA;AAAA;AACE;AACAJ,YAAAA,GAAG,CAACY,QAAJ,CAAaC,OAAb,CAAqB,cAArB,IAAuCC,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAvC;AAFF;AAAA,mBAGQf,GAAG,CAACgB,GAAJ,sBAAsBL,MAAtB,GAAgCH,IAAhC,CAAqCL,OAArC,EAA8CM,KAA9C,CAAoDL,IAApD,CAHR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAQA,SAASH,KAAT,EAAgBS,QAAhB","sourcesContent":["import { apiInstance } from \"./index.js\";\r\n\r\nconst api = apiInstance();\r\n\r\nasync function login(user, success, fail) {\r\n  await api.post(`/user/login`, JSON.stringify(user)).then(success).catch(fail);\r\n}\r\n\r\nasync function findById(userid, success, fail) {\r\n  // 헤더에 session Storage에 저장된 토큰을 담아서 보내야함! (그래야 현재 userid 보내서 로그인 한 사람인지 확인해야함)\r\n  api.defaults.headers[\"access-token\"] = sessionStorage.getItem(\"access-token\");\r\n  await api.get(`/user/info/${userid}`).then(success).catch(fail);\r\n}\r\n\r\n// function logout(success, fail)\r\n\r\nexport { login, findById };\r\n"]}]}